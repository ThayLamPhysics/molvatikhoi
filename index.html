<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªõp h·ªçc H√≥a di·ªáu k·ª≥ c·ªßa Th·∫ßy L√¢m</title>
    
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- T·∫£i Font Be Vietnam Pro t·ª´ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <!-- CSS t√πy ch·ªânh cho c√°c hi·ªáu ·ª©ng v√† m√†u s·∫Øc -->
    <style>
        /* S·ª≠ d·ª•ng font Be Vietnam Pro l√†m font ch√≠nh */
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f0f4f8; /* M√†u n·ªÅn x√°m nh·∫°t */
        }

        /* ƒê·ªãnh nghƒ©a bi·∫øn m√†u s·∫Øc ƒë·ªÉ d·ªÖ qu·∫£n l√Ω */
        :root {
            --mau-nen-chinh: #ffffff;
            --mau-chu-chinh: #1e293b; /* Slate 800 */
            --mau-xanh-dam: #0d9488; /* Teal 600 */
            --mau-xanh-nhat: #ccfbf1; /* Teal 100 */
            --mau-vang: #facc15; /* Yellow 400 */
            --mau-vang-dam: #eab308; /* Yellow 500 */
        }

        /* Giao di·ªán c√°c tab */
        .tab-button {
            transition: all 0.3s ease-in-out;
            border-bottom: 4px solid transparent;
        }
        .tab-button.active {
            color: var(--mau-xanh-dam);
            border-bottom-color: var(--mau-xanh-dam);
            font-weight: 700;
        }
        .tab-button:hover {
            background-color: var(--mau-xanh-nhat);
        }

        /* Giao di·ªán n·ªôi dung tab v√† hi·ªáu ·ª©ng chuy·ªÉn ƒë·ªïi */
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Giao di·ªán ph·∫ßn "G√≥c t∆∞∆°ng t√°c" v·ªõi AI */
        .goc-tuong-tac {
            background: linear-gradient(135deg, var(--mau-xanh-nhat), #e0f2fe); /* Teal 100 to Sky 100 */
            border-left: 5px solid var(--mau-xanh-dam);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        
        /* Giao di·ªán b√†i ki·ªÉm tra */
        .quiz-option { transition: all 0.2s ease; border: 2px solid #e5e7eb; }
        .quiz-option:hover { border-color: var(--mau-vang); transform: translateY(-2px); }
        .quiz-option.selected { border-color: var(--mau-xanh-dam); background-color: var(--mau-xanh-nhat); }
        .quiz-option.correct { border-color: #10b981; background-color: #d1fae5; }
        .quiz-option.incorrect { border-color: #f43f5e; background-color: #ffe4e6; }
        
        /* Hi·ªáu ·ª©ng "ƒë√°nh d·∫•u" cho c√°c gi√° tr·ªã quan tr·ªçng */
        .hieu-ung-gia-tri { display: inline-block; background-color: #fef9c3; color: #713f12; font-weight: 800; padding: 0.25rem 0.75rem; border-radius: 0.375rem; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); transform: rotate(-2deg); transition: all 0.2s ease-in-out; cursor: pointer; }
        .hieu-ung-gia-tri:hover { transform: rotate(0deg) scale(1.10); }

        /* Hi·ªáu ·ª©ng "ghi ch√∫" cho c√°c c√¥ng th·ª©c */
        .hieu-ung-cong-thuc { display: inline-block; padding: 0.75rem 1.5rem; border-radius: 0.375rem; font-family: monospace; font-size: 1.5rem; font-weight: bold; color: #1e293b; background-color: #fefce8; border: 2px dashed #facc15; transform: rotate(-1deg); transition: all 0.2s ease-in-out; box-shadow: 2px 2px 8px rgba(0,0,0,0.1); }
        .hieu-ung-cong-thuc:hover { transform: rotate(1deg) scale(1.05); box-shadow: 4px 4px 12px rgba(0,0,0,0.15); }

         /* CSS cho b√¨nh kh√≠ minh h·ªça */
        .gas-flask {
            width: 120px;
            height: 180px;
            border: 5px solid #9ca3af;
            border-bottom-left-radius: 60px;
            border-bottom-right-radius: 60px;
            position: relative;
        }
        .gas-flask::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 20px;
            border: 5px solid #9ca3af;
            border-bottom: none;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
         .gas-flask::after {
            content: '';
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 10px;
            background-color: #ef4444;
            border-radius: 5px;
        }
    </style>
</head>
<body class="bg-gray-100 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        <!-- TI√äU ƒê·ªÄ B√ÄI GI·∫¢NG -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-teal-500 to-yellow-400 mb-2">L·ªõp h·ªçc H√≥a di·ªáu k·ª≥</h1>
            <p class="text-lg text-slate-600">C√πng Th·∫ßy L√¢m bi·∫øn nh·ªØng kh√°i ni·ªám kh√¥ khan th√†nh c√¢u chuy·ªán d·ªÖ nh·ªõ!</p>
        </header>

        <!-- THANH CH·ªåN TAB -->
        <div class="bg-white rounded-xl shadow-md mb-8 sticky top-2 z-50">
            <nav class="flex flex-wrap justify-center p-2" id="tab-buttons">
                <button data-tab="1" class="tab-button text-sm md:text-base py-3 px-4 md:px-6 rounded-t-lg active">1. Mol & T·ªâ kh·ªëi</button>
                <button data-tab="2" class="tab-button text-sm md:text-base py-3 px-4 md:px-6 rounded-t-lg">2. Dung d·ªãch & N·ªìng ƒë·ªô</button>
                <button data-tab="3" class="tab-button text-sm md:text-base py-3 px-4 md:px-6 rounded-t-lg">3. B√†i t·∫≠p v·∫≠n d·ª•ng</button>
                <button data-tab="4" class="tab-button text-sm md:text-base py-3 px-4 md:px-6 rounded-t-lg">4. H√≥a h·ªçc quanh ta</button>
                <button data-tab="5" class="tab-button text-sm md:text-base py-3 px-4 md:px-6 rounded-t-lg text-yellow-500 font-bold">5. Th·ª≠ t√†i c·ªßa b·∫°n</button>
            </nav>
        </div>

        <!-- N·ªòI DUNG C√ÅC TAB -->
        <main id="tab-contents">
            <!-- TAB 1: MOL V√Ä T·ªà KH·ªêI CH·∫§T KH√ç (KH√îI PH·ª§C) -->
            <div id="tab-content-1" class="tab-content active bg-white p-6 md:p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold text-teal-600 mb-6">Ch·ªß ƒë·ªÅ 1: Mol - "C√°i r·ªï" c·ªßa nh√† H√≥a h·ªçc</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="mb-4 text-lg leading-relaxed">
                            Ch√†o c√°c em, c√°c em c√≥ bao gi·ªù th·∫Øc m·∫Øc l√†m sao c√°c nh√† khoa h·ªçc "ƒë·∫øm" ƒë∆∞·ª£c nh·ªØng h·∫°t v√¥ c√πng nh·ªè b√© nh∆∞ nguy√™n t·ª≠, ph√¢n t·ª≠ kh√¥ng? Ch·∫≥ng l·∫Ω h·ªç l·∫°i ng·ªìi ƒë·∫øm t·ª´ng h·∫°t m·ªôt ∆∞? <br><br>Kh√¥ng ƒë√¢u! H·ªç d√πng m·ªôt "c√°i r·ªï" ƒë·∫∑c bi·ªát, m·ªôt ƒë∆°n v·ªã ƒëo l∆∞·ªùng c·ª±c l·ªõn t√™n l√† <strong class="font-semibold text-teal-700">Mol</strong>.
                        </p>
                        <p class="mb-4 text-lg leading-relaxed">
                            H√£y t∆∞·ªüng t∆∞·ª£ng nh√©, n·∫øu th·∫ßy n√≥i "m·ªôt t√° tr·ª©ng", c√°c em s·∫Ω nghƒ© ngay ƒë·∫øn 12 qu·∫£. T∆∞∆°ng t·ª±, khi nh√† h√≥a h·ªçc n√≥i <strong class="font-semibold text-teal-700">"m·ªôt mol"</strong>, h·ªç ƒëang n√≥i ƒë·∫øn <span class="hieu-ung-gia-tri">6,022 x 10<sup>23</sup> h·∫°t</span> (nguy√™n t·ª≠, ph√¢n t·ª≠...). Con s·ªë kh·ªïng l·ªì n√†y ƒë∆∞·ª£c g·ªçi l√† s·ªë Avogadro.
                        </p>
                        <div class="mt-8 p-4 bg-teal-50 border-l-4 border-teal-500 rounded-r-lg">
                           <h4 class="text-xl font-bold text-teal-700 mb-3">Th·∫ßy L√¢m gi·∫£i th√≠ch s√¢u h∆°n: T·ª´ ƒë√¢u c√≥ s·ªë Mol?</h4>
                           <p class="mb-3 text-slate-700 leading-relaxed">
                               ƒê·ªÉ k·∫øt n·ªëi th·∫ø gi·ªõi vi m√¥ c·ªßa nguy√™n t·ª≠ v·ªõi th·∫ø gi·ªõi vƒ© m√¥, c√°c nh√† khoa h·ªçc ƒë√£ c√≥ m·ªôt quy ∆∞·ªõc r·∫•t th√¥ng minh. H·ªç l·∫•y 1/12 kh·ªëi l∆∞·ª£ng c·ªßa nguy√™n t·ª≠ carbon-12 l√†m ƒë∆°n v·ªã kh·ªëi l∆∞·ª£ng nguy√™n t·ª≠ (amu).
                           </p>
                           <p class="text-slate-700 leading-relaxed">
                                V·∫•n ƒë·ªÅ l√†, m·ªôt nguy√™n t·ª≠ th√¨ qu√° nh·∫π ƒë·ªÉ c√¢n. Nh∆∞ng ch√∫ng ta l·∫°i d·ªÖ d√†ng c√¢n ƒë∆∞·ª£c 12 gam carbon. V√† c√°c nh√† khoa h·ªçc ƒë√£ t√¨m ra r·∫±ng, trong 12 gam carbon ƒë√≥ c√≥ ch·ª©a ch√≠nh x√°c <strong class="font-bold">6,022 x 10<sup>23</sup></strong> nguy√™n t·ª≠ carbon.
                           </p>
                           <p class="mt-3 font-semibold text-teal-800">
                               Con s·ªë k·ª≥ di·ªáu ƒë√≥ ƒë∆∞·ª£c ƒë·∫∑t t√™n l√† s·ªë Avogadro (k√≠ hi·ªáu l√† N), v√† l∆∞·ª£ng ch·∫•t ch·ª©a N h·∫°t ƒë∆∞·ª£c g·ªçi l√† 1 mol. ƒê√≥ ch√≠nh l√† c·∫ßu n·ªëi gi·ªØa "gam" v√† "amu" ƒë·∫•y c√°c em ·∫°!
                           </p>
                        </div>
                    </div>
                    <div class="flex flex-col items-center justify-center bg-gray-50 rounded-lg p-4">
                        <h4 class="font-bold mb-2">M√¥ ph·ªèng: ƒê·∫øm h·∫°t b·∫±ng Mol</h4>
                        <svg id="mol-svg" class="w-full h-64 rounded-lg" viewBox="0 0 400 200"></svg>
                        <p class="text-sm text-center text-slate-500 mt-2">C√°c h·∫°t nguy√™n t·ª≠ ƒëang ƒë∆∞·ª£c "gom" v√†o m·ªôt "r·ªï" Mol.</p>
                    </div>
                </div>
                <div class="mt-12">
                    <h3 class="text-2xl font-bold text-teal-600 mb-4">V·∫≠y, m·ªôt Mol "n·∫∑ng" bao nhi√™u? - Kh·ªëi l∆∞·ª£ng Mol</h3>
                    <p class="mb-4 text-lg leading-relaxed">
                        N·∫øu mol l√† "c√°i r·ªï" ƒë·ªÉ ƒëong ƒë·∫øm s·ªë h·∫°t, th√¨ <strong class="font-semibold text-teal-700">kh·ªëi l∆∞·ª£ng mol (k√≠ hi·ªáu l√† M)</strong> ch√≠nh l√† c√¢n n·∫∑ng c·ªßa c√°i r·ªï ƒë·∫ßy ·∫Øp ƒë√≥, nh∆∞ng ƒë∆∞·ª£c t√≠nh b·∫±ng ƒë∆°n v·ªã <strong class="font-semibold">gam</strong>.
                    </p>
                    <div class="my-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 rounded-r-lg">
                        <p class="text-yellow-800 font-semibold">
                            <span class="font-bold">M·ªôt ƒëi·ªÅu k·ª≥ di·ªáu:</span> Kh·ªëi l∆∞·ª£ng mol (g/mol) c√≥ <span class="font-bold text-yellow-900">c√πng tr·ªã s·ªë</span> v·ªõi kh·ªëi l∆∞·ª£ng nguy√™n t·ª≠/ph√¢n t·ª≠ (amu), ch·ªâ kh√°c nhau v·ªÅ ƒë∆°n v·ªã ƒëo th√¥i!
                        </p>
                    </div>
                    <div class="mt-8 p-6 bg-slate-50 rounded-lg text-center shadow-inner border border-slate-200">
                        <p class="text-lg mb-4 text-slate-700">C√¥ng th·ª©c "th·∫ßn th√°nh" ƒë·ªÉ c√°c em ghi nh·ªõ:</p>
                        <p class="hieu-ung-cong-thuc">M = m / n</p>
                        <p class="mt-4 text-slate-600 text-sm">(Trong ƒë√≥: M l√† kh·ªëi l∆∞·ª£ng mol (g/mol), m l√† kh·ªëi l∆∞·ª£ng ch·∫•t (g), v√† n l√† s·ªë mol (mol))</p>
                    </div>
                </div>
                <div class="mt-12">
                     <h3 class="text-2xl font-bold text-teal-600 mb-4">Th·ªÉ t√≠ch mol - "CƒÉn ph√≤ng" d√†nh cho c√°c ch·∫•t kh√≠</h3>
                     <p class="mb-4 text-lg leading-relaxed">
                         Ta ƒë√£ bi·∫øt "ƒë·∫øm" v√† "c√¢n" c√°c h·∫°t r·ªìi, gi·ªù h√£y xem ch√∫ng chi·∫øm m·ªôt kh√¥ng gian l·ªõn th·∫ø n√†o nh√©! ƒê√≥ l√† <strong class="font-semibold text-teal-700">Th·ªÉ t√≠ch mol c·ªßa ch·∫•t kh√≠</strong>.
                     </p>
                     <div class="grid md:grid-cols-3 items-center gap-6 p-6 bg-gray-50 rounded-lg">
                         <div class="md:col-span-2">
                             <p class="text-lg leading-relaxed text-slate-800">
                                 Nh√† khoa h·ªçc Avogadro c√≤n ph√°t hi·ªán ra: <strong class="font-semibold text-teal-700">·ªü c√πng ƒëi·ªÅu ki·ªán nhi·ªát ƒë·ªô v√† √°p su·∫•t, m·ªôt mol c·ªßa B·∫§T K·ª≤ ch·∫•t kh√≠ n√†o c≈©ng chi·∫øm m·ªôt th·ªÉ t√≠ch B·∫∞NG NHAU.</strong> <br><br> C·ª© t∆∞·ªüng t∆∞·ª£ng 1 mol kh√≠ gi·ªëng nh∆∞ 1 ng∆∞·ªùi, th√¨ d√π ng∆∞·ªùi ƒë√≥ l√† "anh ch√†ng" Nitrogen "g·∫ßy g√≤" hay "ch√∫ b√©o" CO‚ÇÇ, h·ªç ƒë·ªÅu ƒë∆∞·ª£c c·∫•p m·ªôt "cƒÉn ph√≤ng" c√≥ di·ªán t√≠ch y h·ªát nhau!
                             </p>
                         </div>
                         <div class="flex justify-center gap-4">
                             <div class="text-center">
                                 <div class="gas-flask" style="background-color: rgba(200, 100, 50, 0.4);"></div>
                                 <p class="mt-2 font-bold text-sm">B√¨nh kh√≠ NO‚ÇÇ</p>
                             </div>
                              <div class="text-center">
                                 <div class="gas-flask" style="background-color: rgba(240, 255, 120, 0.5);"></div>
                                 <p class="mt-2 font-bold text-sm">B√¨nh kh√≠ Cl‚ÇÇ</p>
                             </div>
                         </div>
                     </div>
                    <div class="mt-8 p-6 bg-slate-50 rounded-lg text-center shadow-inner border border-slate-200">
                        <p class="text-lg mb-4 text-slate-700">·ªû ƒëi·ªÅu ki·ªán chu·∫©n (25¬∞C, 1 bar), "cƒÉn ph√≤ng" n√†y c√≥ th·ªÉ t√≠ch l√† <span class="hieu-ung-gia-tri">24,79 l√≠t</span></p>
                        <p class="text-lg mt-6 mb-4 text-slate-700">V·∫≠y c√¥ng th·ª©c t√≠nh th·ªÉ t√≠ch (V) c·ªßa n mol kh√≠ ·ªü ƒëi·ªÅu ki·ªán chu·∫©n l√†:</p>
                        <p class="hieu-ung-cong-thuc">V = 24,79 ‚ãÖ n</p>
                    </div>
                </div>
                <div class="mt-12">
                    <h3 class="text-2xl font-bold text-teal-600 mb-4">Cu·ªëi c√πng, T·ªâ kh·ªëi ch·∫•t kh√≠ l√† g√¨?</h3>
                    <p class="mb-4 text-lg leading-relaxed">
                        ƒê√¢y l√† m·ªôt c√¢u chuy·ªán so s√°nh. Sau khi bi·∫øt kh·ªëi l∆∞·ª£ng mol, ta c√≥ th·ªÉ d·ªÖ d√†ng so s√°nh xem kh√≠ n√†y "n·∫∑ng" hay "nh·∫π" h∆°n kh√≠ kia bao nhi√™u l·∫ßn. ƒê√≥ ch√≠nh l√† <strong class="font-semibold text-teal-700">t·ªâ kh·ªëi</strong>.
                    </p>
                     <div class="mt-10 grid md:grid-cols-2 gap-8">
                        <div class="p-6 bg-slate-50 rounded-lg text-center shadow-inner border border-slate-200">
                            <h4 class="font-bold text-lg text-slate-800 mb-4">1. So v·ªõi kh√≠ kh√°c</h4>
                            <p class="text-slate-700 mb-4">So s√°nh kh√≠ A v·ªõi kh√≠ B:</p>
                            <p class="hieu-ung-cong-thuc">d<sub>A/B</sub> = M<sub>A</sub> / M<sub>B</sub></p>
                        </div>
                        <div class="p-6 bg-slate-50 rounded-lg text-center shadow-inner border border-slate-200">
                            <h4 class="font-bold text-lg text-slate-800 mb-4">2. So v·ªõi kh√¥ng kh√≠</h4>
                            <p class="text-slate-700 mb-4">So s√°nh kh√≠ A v·ªõi kh√¥ng kh√≠ (<span class="hieu-ung-gia-tri">M ‚âà 29</span>):</p>
                            <p class="hieu-ung-cong-thuc">d<sub>A/kk</sub> = M<sub>A</sub> / 29</p>
                        </div>
                    </div>
                    <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800">
                        <strong>Ghi nh·ªõ c·ªßa Th·∫ßy L√¢m:</strong> N·∫øu t·ªâ kh·ªëi so v·ªõi kh√¥ng kh√≠ > 1 th√¨ kh√≠ ƒë√≥ n·∫∑ng h∆°n kh√¥ng kh√≠ (s·∫Ω ch√¨m xu·ªëng), n·∫øu < 1 th√¨ nh·∫π h∆°n kh√¥ng kh√≠ (s·∫Ω bay l√™n).
                    </div>
                </div>
                <div class="goc-tuong-tac mt-12 p-6 rounded-xl">
                    <h3 class="font-bold text-xl text-teal-700 mb-4">G√≥c t∆∞∆°ng t√°c c·ªßa Th·∫ßy L√¢m</h3>
                    <p class="mb-4 text-slate-700">C√≥ th·∫Øc m·∫Øc g√¨ v·ªÅ Mol, Kh·ªëi l∆∞·ª£ng mol, Th·ªÉ t√≠ch mol hay T·ªâ kh·ªëi kh√¥ng? ƒê·ª´ng ng·∫ßn ng·∫°i h·ªèi th·∫ßy nh√©!</p>
                    <div class="flex flex-col sm:flex-row gap-2">
                        <input type="text" id="ai-input-1" class="flex-grow p-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition" placeholder="V√≠ d·ª•: Kh√≠ CO‚ÇÇ n·∫∑ng hay nh·∫π h∆°n kh√¥ng kh√≠?">
                        <button onclick="askAI(1)" class="bg-yellow-400 text-white font-bold py-3 px-6 rounded-lg hover:bg-yellow-500 transition-transform transform hover:scale-105 shadow-md">G·ª≠i c√¢u h·ªèi</button>
                    </div>
                    <div id="ai-response-1" class="mt-4 p-4 bg-white rounded-lg min-h-[50px] text-slate-700 leading-relaxed whitespace-pre-wrap"></div>
                </div>
            </div>

            <!-- TAB 2: DUNG D·ªäCH V√Ä N·ªíNG ƒê·ªò (KH√îI PH·ª§C) -->
            <div id="tab-content-2" class="tab-content bg-white p-6 md:p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold text-teal-600 mb-6">Ch·ªß ƒë·ªÅ 2: Pha m·ªôt ly "dung d·ªãch" cu·ªôc s·ªëng</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="mb-4 text-lg leading-relaxed">
                            C√°c em c√≥ th√≠ch u·ªëng n∆∞·ªõc chanh kh√¥ng? Khi em v·∫Øt chanh (<strong class="text-yellow-600">ch·∫•t tan</strong>) v√†o m·ªôt c·ªëc n∆∞·ªõc (<strong class="text-blue-600">dung m√¥i</strong>), em ƒë√£ t·∫°o ra m·ªôt <strong class="text-teal-700 font-semibold">dung d·ªãch</strong> n∆∞·ªõc chanh r·ªìi ƒë·∫•y! ƒê∆°n gi·∫£n ph·∫£i kh√¥ng n√†o?
                        </p>
                        <p class="mb-4 text-lg leading-relaxed">
                            Dung d·ªãch ch√≠nh l√† m·ªôt h·ªón h·ª£p ƒë·ªìng nh·∫•t, nghƒ©a l√† ch·∫•t tan ƒë√£ h√≤a quy·ªán ho√†n to√†n v√†o dung m√¥i. Ch·∫•t tan c√≥ th·ªÉ l√† r·∫Øn (ƒë∆∞·ªùng), l·ªèng (c·ªìn) ho·∫∑c kh√≠ (CO‚ÇÇ trong n∆∞·ªõc ng·ªçt).
                        </p>
                        <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                           <h4 class="text-xl font-bold text-blue-700 mb-3">Th·∫ßy L√¢m ƒë·ªë nh√©: Khi n√†o th√¨ dung d·ªãch "no"?</h4>
                           <p class="mb-3 text-slate-700 leading-relaxed">
                               C·ª© t∆∞·ªüng t∆∞·ª£ng em ƒëang pha n∆∞·ªõc ƒë∆∞·ªùng. Em cho m·ªôt th√¨a, khu·∫•y l√™n, ƒë∆∞·ªùng tan h·∫øt. Em cho th√™m th√¨a n·ªØa, v·∫´n tan. ƒê√≥ g·ªçi l√† dung d·ªãch <strong class="font-semibold">ch∆∞a b√£o ho√†</strong> - n√≥ v·∫´n c√≤n "ƒë√≥i" v√† c√≥ th·ªÉ h√≤a tan th√™m ƒë∆∞·ªùng.
                           </p>
                           <p class="text-slate-700 leading-relaxed">
                               Nh∆∞ng ƒë·∫øn m·ªôt l√∫c n√†o ƒë√≥, em cho th√™m ƒë∆∞·ªùng v√†o m√† n√≥ kh√¥ng t√†i n√†o tan ƒë∆∞·ª£c n·ªØa, c·ª© n·∫±m √¨ d∆∞·ªõi ƒë√°y c·ªëc. L√∫c n√†y, dung d·ªãch ƒë√£ "no cƒÉng b·ª•ng" r·ªìi, ta g·ªçi ƒë√≥ l√† dung d·ªãch <strong class="font-semibold">b√£o ho√†</strong>.
                           </p>
                        </div>
                    </div>
                    <div class="flex flex-col items-center justify-center bg-gray-50 rounded-lg p-4">
                        <h4 class="font-bold mb-2">M√¥ ph·ªèng: Th√™m ch·∫•t tan</h4>
                        <svg id="concentration-svg" class="w-full h-64 rounded-lg" viewBox="0 0 400 250"></svg>
                        <button id="add-solute-btn" class="mt-4 bg-teal-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-600 transition-transform transform hover:scale-105">Th√™m ch·∫•t tan</button>
                    </div>
                </div>
                <div class="mt-12">
                     <h3 class="text-2xl font-bold text-teal-600 mb-4">ƒê·ªô tan (S) - "S·ª©c ƒÉn" c·ªßa dung m√¥i</h3>
                     <p class="mb-4 text-lg leading-relaxed">
                         M·ªói ch·∫•t tan kh√°c nhau l·∫°i c√≥ m·ªôt "s·ª©c ƒÉn" kh√°c nhau trong c√πng m·ªôt dung m√¥i. C√≥ ch·∫•t tan r·∫•t t·ªët (c·∫ßn r·∫•t nhi·ªÅu m·ªõi no), c√≥ ch·∫•t l·∫°i tan r·∫•t k√©m (ch·ªâ c·∫ßn m·ªôt √≠t l√† no ngay). ƒê·ªÉ ƒë·∫∑c tr∆∞ng cho kh·∫£ nƒÉng n√†y, ng∆∞·ªùi ta d√πng kh√°i ni·ªám <strong class="font-semibold text-teal-700">ƒê·ªô tan</strong>.
                     </p>
                     <p class="mb-6 text-lg leading-relaxed">
                         ƒê·ªô tan c·ªßa m·ªôt ch·∫•t trong n∆∞·ªõc ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a l√† <strong class="font-semibold">s·ªë gam ch·∫•t ƒë√≥</strong> h√≤a tan ƒë∆∞·ª£c trong <strong class="font-semibold">100 gam n∆∞·ªõc</strong> ƒë·ªÉ t·∫°o th√†nh dung d·ªãch b√£o h√≤a ·ªü m·ªôt nhi·ªát ƒë·ªô x√°c ƒë·ªãnh.
                     </p>
                     <div class="mt-8 p-6 bg-slate-50 rounded-lg text-center shadow-inner border border-slate-200">
                        <p class="text-lg mb-4 text-slate-700">C√¥ng th·ª©c t√≠nh "s·ª©c ƒÉn" ƒë√¢y c√°c em nh√©:</p>
                        <p class="hieu-ung-cong-thuc">S = (m<sub>ct</sub> / m<sub>H‚ÇÇO</sub>) x 100</p>
                        <p class="mt-4 text-sm text-slate-600">
                           <strong>L∆∞u √Ω:</strong> ƒê·ªô tan c·ªßa h·∫ßu h·∫øt c√°c ch·∫•t r·∫Øn (nh∆∞ ƒë∆∞·ªùng, mu·ªëi) s·∫Ω tƒÉng l√™n khi ta ƒëun n√≥ng dung d·ªãch ƒë·∫•y!
                        </p>
                    </div>
                </div>
                <h3 class="text-2xl font-bold text-teal-600 mt-12 mb-4">"ƒê·ªô ƒë·∫≠m nh·∫°t" ch√≠nh l√† N·ªìng ƒë·ªô!</h3>
                <p class="mb-8 text-lg leading-relaxed text-center max-w-3xl mx-auto">
                   ƒê·ªô tan cho bi·∫øt kh·∫£ nƒÉng h√≤a tan t·ªëi ƒëa, c√≤n N·ªìng ƒë·ªô cho ta bi·∫øt ƒë·ªô "ƒë·∫≠m ƒë·∫∑c" th·ª±c t·∫ø c·ªßa m·ªôt dung d·ªãch b·∫•t k·ª≥ (d√π n√≥ b√£o h√≤a hay ch∆∞a).
                </p>
                <div class="mt-8 grid md:grid-cols-2 gap-8">
                    <div class="p-6 bg-slate-50 rounded-lg shadow-inner border border-slate-200">
                        <h4 class="text-xl font-bold text-slate-800 mb-4 text-center">1. N·ªìng ƒë·ªô ph·∫ßn trƒÉm (C%)</h4>
                        <p class="text-slate-700 mb-4 text-center">Cho bi·∫øt s·ªë gam ch·∫•t tan c√≥ trong 100g dung d·ªãch.</p>
                        <div class="text-center mt-6">
                            <p class="hieu-ung-cong-thuc">C% = (m<sub>ct</sub> / m<sub>dd</sub>) x 100%</p>
                        </div>
                    </div>
                     <div class="p-6 bg-slate-50 rounded-lg shadow-inner border border-slate-200">
                        <h4 class="text-xl font-bold text-slate-800 mb-4 text-center">2. N·ªìng ƒë·ªô mol (C<sub>M</sub>)</h4>
                        <p class="text-slate-700 mb-4 text-center">Cho bi·∫øt s·ªë mol ch·∫•t tan c√≥ trong 1 l√≠t dung d·ªãch.</p>
                        <div class="text-center mt-6">
                            <p class="hieu-ung-cong-thuc">C<sub>M</sub> = n / V</p>
                        </div>
                    </div>
                </div>
                <div class="goc-tuong-tac mt-12 p-6 rounded-xl">
                    <h3 class="font-bold text-xl text-teal-700 mb-4">G√≥c t∆∞∆°ng t√°c c·ªßa Th·∫ßy L√¢m</h3>
                    <p class="mb-4 text-slate-700">C√≥ th·∫Øc m·∫Øc v·ªÅ ƒê·ªô tan, N·ªìng ƒë·ªô C% hay C<sub>M</sub> kh√¥ng? H·ªèi th·∫ßy ngay nh√©!</p>
                    <div class="flex flex-col sm:flex-row gap-2">
                        <input type="text" id="ai-input-2" class="flex-grow p-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition" placeholder="V√≠ d·ª•: ƒê·ªô tan v√† n·ªìng ƒë·ªô kh√°c nhau th·∫ø n√†o ·∫°?">
                        <button onclick="askAI(2)" class="bg-yellow-400 text-white font-bold py-3 px-6 rounded-lg hover:bg-yellow-500 transition-transform transform hover:scale-105 shadow-md">G·ª≠i c√¢u h·ªèi</button>
                    </div>
                    <div id="ai-response-2" class="mt-4 p-4 bg-white rounded-lg min-h-[50px] text-slate-700 leading-relaxed whitespace-pre-wrap"></div>
                </div>
            </div>
            
            <!-- TAB 3: B√ÄI T·∫¨P V·∫¨N D·ª§NG -->
            <div id="tab-content-3" class="tab-content bg-white p-6 md:p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold text-teal-600 mb-6">Ch·ªß ƒë·ªÅ 3: Tr·ªü th√†nh "nh√† pha ch·∫ø" t√†i ba</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="mb-4 text-lg leading-relaxed">Ki·∫øn th·ª©c kh√¥ng ch·ªâ ƒë·ªÉ h·ªçc thu·ªôc, m√† l√† ƒë·ªÉ v·∫≠n d·ª•ng! B√¢y gi·ªù, ch√∫ng ta s·∫Ω th·ª≠ √°p d·ª•ng nh·ªØng g√¨ ƒë√£ h·ªçc v·ªÅ mol v√† n·ªìng ƒë·ªô ƒë·ªÉ th·ª±c h√†nh pha ch·∫ø dung d·ªãch. ƒê√¢y l√† m·ªôt k·ªπ nƒÉng c·ª±c k·ª≥ quan tr·ªçng trong ph√≤ng th√≠ nghi·ªám ƒë·∫•y c√°c em.</p>
                        <p class="mb-4 text-lg leading-relaxed">H√£y th·ª≠ t∆∞·ªüng t∆∞·ª£ng em c·∫ßn pha m·ªôt dung d·ªãch mu·ªëi ƒÉn (NaCl) c√≥ n·ªìng ƒë·ªô ch√≠nh x√°c. Em s·∫Ω c·∫ßn c√¢n bao nhi√™u gam mu·ªëi? C·∫ßn ƒëong bao nhi√™u ml n∆∞·ªõc? T·∫•t c·∫£ ƒë·ªÅu c√≥ th·ªÉ t√≠nh to√°n ƒë∆∞·ª£c d·ª±a v√†o c√°c c√¥ng th·ª©c ƒë√£ h·ªçc.</p>
                    </div>
                    <div class="flex flex-col items-center justify-center bg-gray-50 rounded-lg p-4"><h4 class="font-bold mb-2">M√¥ ph·ªèng: T√≠nh to√°n pha ch·∫ø</h4><svg id="mixing-svg" class="w-full h-64 rounded-lg" viewBox="0 0 400 200"></svg><div class="w-full mt-4"><label for="solute-mass-slider" class="block text-sm font-medium text-slate-700">Kh·ªëi l∆∞·ª£ng ch·∫•t tan (g): <span id="solute-mass-value">10</span>g</label><input type="range" id="solute-mass-slider" min="1" max="50" value="10" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"></div></div>
                </div>
                 <div class="goc-tuong-tac mt-10 p-6 rounded-xl"><h3 class="font-bold text-xl text-teal-700 mb-4">G√≥c t∆∞∆°ng t√°c c·ªßa Th·∫ßy L√¢m</h3><div class="flex flex-col sm:flex-row gap-2"><input type="text" id="ai-input-3" class="flex-grow p-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition" placeholder="H·ªèi th·∫ßy v·ªÅ c√°ch pha ch·∫ø dung d·ªãch..."><button onclick="askAI(3)" class="bg-yellow-400 text-white font-bold py-3 px-6 rounded-lg hover:bg-yellow-500 transition-transform transform hover:scale-105 shadow-md">G·ª≠i</button></div><div id="ai-response-3" class="mt-4 p-4 bg-white rounded-lg min-h-[50px] text-slate-700 leading-relaxed whitespace-pre-wrap"></div></div>
            </div>

            <!-- TAB 4: H√ìA H·ªåC QUANH TA -->
            <div id="tab-content-4" class="tab-content bg-white p-6 md:p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold text-teal-600 mb-6">Ch·ªß ƒë·ªÅ 4: H√≥a h·ªçc quanh ta</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="mb-4 text-lg leading-relaxed">Nhi·ªÅu em nghƒ© H√≥a h·ªçc th·∫≠t xa v·ªùi, nh∆∞ng s·ª± th·∫≠t l√† n√≥ ·ªü ngay xung quanh ch√∫ng ta! Nh·ªØng kh√°i ni·ªám ta v·ª´a h·ªçc c√≥ v√¥ v√†n ·ª©ng d·ª•ng th·ª±c t·∫ø.</p>
                        <ul class="list-none space-y-4 text-lg"><li class="flex items-start"><span class="text-yellow-500 mr-3 text-2xl">üíß</span><div><strong class="text-teal-600">N∆∞·ªõc mu·ªëi sinh l√Ω:</strong> ƒê√≥ l√† dung d·ªãch NaCl 0.9%. C√°c b√°c sƒ© ƒë√£ d√πng n·ªìng ƒë·ªô ph·∫ßn trƒÉm ƒë·ªÉ pha ch·∫ø n√≥ ƒë·∫•y!</div></li><li class="flex items-start"><span class="text-yellow-500 mr-3 text-2xl">üí®</span><div><strong class="text-teal-600">B√¨nh gas:</strong> Ng∆∞·ªùi ta d√πng kh√°i ni·ªám mol v√† t·ªâ kh·ªëi ƒë·ªÉ t√≠nh to√°n v√† n√©n m·ªôt l∆∞·ª£ng kh√≠ kh·ªïng l·ªì v√†o chi·∫øc b√¨nh nh·ªè g·ªçn.</div></li><li class="flex items-start"><span class="text-yellow-500 mr-3 text-2xl">üöó</span><div><strong class="text-teal-600">T√∫i kh√≠ √¥ t√¥:</strong> M·ªôt ph·∫£n ·ª©ng h√≥a h·ªçc c·ª±c nhanh t·∫°o ra m·ªôt l∆∞·ª£ng kh√≠ (t√≠nh b·∫±ng mol) ƒë·ªß l·ªõn ƒë·ªÉ l√†m ph·ªìng t√∫i kh√≠, b·∫£o v·ªá ch√∫ng ta.</div></li></ul>
                    </div>
                    <div class="flex flex-col items-center justify-center bg-gray-50 rounded-lg p-4"><h4 class="font-bold mb-2">M√¥ ph·ªèng: T√∫i kh√≠ √¥ t√¥</h4><svg id="airbag-svg" class="w-full h-64 rounded-lg" viewBox="0 0 400 200"></svg><button id="crash-btn" class="mt-4 bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 transition">G√¢y va ch·∫°m</button></div>
                </div>
                <div class="goc-tuong-tac mt-10 p-6 rounded-xl"><h3 class="font-bold text-xl text-teal-700 mb-4">G√≥c t∆∞∆°ng t√°c c·ªßa Th·∫ßy L√¢m</h3><div class="flex flex-col sm:flex-row gap-2"><input type="text" id="ai-input-4" class="flex-grow p-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition" placeholder="H·ªèi th·∫ßy v·ªÅ ·ª©ng d·ª•ng h√≥a h·ªçc..."><button onclick="askAI(4)" class="bg-yellow-400 text-white font-bold py-3 px-6 rounded-lg hover:bg-yellow-500 transition-transform transform hover:scale-105 shadow-md">G·ª≠i</button></div><div id="ai-response-4" class="mt-4 p-4 bg-white rounded-lg min-h-[50px] text-slate-700 leading-relaxed whitespace-pre-wrap"></div></div>
            </div>

            <!-- TAB 5: KI·ªÇM TRA KI·∫æN TH·ª®C -->
            <div id="tab-content-5" class="tab-content bg-white p-6 md:p-8 rounded-xl shadow-lg">
                <div id="quiz-container" class="max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold text-center text-teal-600 mb-2">Th·ª≠ t√†i H√≥a h·ªçc</h2>
                    <p class="text-center text-slate-500 mb-8">ƒê√£ ƒë·∫øn l√∫c xem c√°c "nh√† h√≥a h·ªçc nh√≠" c·ªßa th·∫ßy ti·∫øp thu b√†i ƒë·∫øn ƒë√¢u r·ªìi!</p>
                    <div id="quiz-question-area"><div class="bg-teal-50 p-4 rounded-lg mb-6"><p class="text-sm text-teal-700 font-semibold">C√¢u h·ªèi <span id="question-number">1</span> / <span id="total-questions">10</span></p><h3 id="question-text" class="text-xl font-bold text-slate-800 mt-1"></h3></div><div id="answer-options" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div><div class="mt-8 text-right"><button id="next-question-btn" class="bg-yellow-400 text-white font-bold py-3 px-8 rounded-lg hover:bg-yellow-500 transition-transform transform hover:scale-105 shadow-md disabled:bg-gray-300 disabled:cursor-not-allowed disabled:scale-100" disabled>C√¢u ti·∫øp</button></div></div>
                    <div id="quiz-results-area" class="hidden text-center"><h3 class="text-2xl font-bold text-teal-600 mb-4">Ho√†n th√†nh!</h3><div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-6 rounded-lg mb-6 inline-block"><p class="text-lg">S·ªë c√¢u ƒë√∫ng:</p><p class="text-5xl font-extrabold my-2"><span id="score"></span>/<span id="total-score"></span></p><p class="text-2xl font-bold">(ƒê·∫°t <span id="percentage"></span>%)</p></div><p id="result-comment" class="text-lg text-slate-700 mt-4 italic"></p><button id="restart-quiz-btn" class="mt-8 bg-teal-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-teal-600 transition">L√†m l·∫°i</button></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // --- KHAI B√ÅO BI·∫æN V√Ä H·∫∞NG S·ªê ---
        const API_KEY = "[D√°n API Key c·ªßa b·∫°n v√†o ƒë√¢y]"; 
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`;
        
        // --- LOGIC CHUY·ªÇN TAB ---
        const tabButtons = document.getElementById('tab-buttons');
        const tabContents = document.getElementById('tab-contents');

        tabButtons.addEventListener('click', (e) => {
            const targetButton = e.target.closest('button');
            if (!targetButton) return;
            const tabNumber = targetButton.dataset.tab;
            if (!tabNumber) return;
            tabButtons.querySelector('.active').classList.remove('active');
            tabContents.querySelector('.active').classList.remove('active');
            targetButton.classList.add('active');
            document.getElementById(`tab-content-${tabNumber}`).classList.add('active');
        });

        // --- LOGIC M√î PH·ªéNG SVG ---
        function animateMolSVG() {
            const svg = document.getElementById('mol-svg');
            if (!svg) return; svg.innerHTML = '';
            const box = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            box.setAttribute('x', 250); box.setAttribute('y', 50); box.setAttribute('width', 130); box.setAttribute('height', 130); box.setAttribute('fill', 'rgba(13, 148, 136, 0.1)'); box.setAttribute('stroke', 'var(--mau-xanh-dam)'); box.setAttribute('stroke-width', 2); svg.appendChild(box);
            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            text.setAttribute('x', 315); text.setAttribute('y', 125); text.setAttribute('fill', 'var(--mau-xanh-dam)'); text.setAttribute('font-size', '24'); text.setAttribute('font-weight', 'bold'); text.setAttribute('text-anchor', 'middle'); text.textContent = '1 Mol'; svg.appendChild(text);
            for (let i = 0; i < 15; i++) {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', Math.random() * 150); circle.setAttribute('cy', Math.random() * 200); circle.setAttribute('r', 5); circle.setAttribute('fill', 'var(--mau-vang)'); svg.appendChild(circle);
                const animate = document.createElementNS('http://www.w3.org/2000/svg', 'animateMotion');
                animate.setAttribute('path', `M ${circle.getAttribute('cx')},${circle.getAttribute('cy')} L ${260 + Math.random() * 110},${60 + Math.random() * 110}`); animate.setAttribute('dur', `${2 + Math.random() * 3}s`); animate.setAttribute('begin', `${Math.random()}s`); animate.setAttribute('repeatCount', 'indefinite'); circle.appendChild(animate);
            }
        }
        function animateConcentrationSVG() {
            const svg = document.getElementById('concentration-svg');
            const addBtn = document.getElementById('add-solute-btn');
            if (!svg || !addBtn) return;
            let soluteCount = 5;
            function draw() {
                svg.innerHTML = '';
                const beaker = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                beaker.setAttribute('d', 'M50 50 L 50 220 L 350 220 L 350 50'); beaker.setAttribute('stroke', '#9ca3af'); beaker.setAttribute('stroke-width', '4'); beaker.setAttribute('fill', 'none'); svg.appendChild(beaker);
                const solvent = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                solvent.setAttribute('x', '52'); solvent.setAttribute('y', '100'); solvent.setAttribute('width', '296'); solvent.setAttribute('height', '118'); solvent.setAttribute('fill', 'rgba(59, 130, 246, 0.3)'); svg.appendChild(solvent);
                for (let i = 0; i < soluteCount; i++) {
                    const particle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    particle.setAttribute('cx', 70 + Math.random() * 260); particle.setAttribute('cy', 120 + Math.random() * 90); particle.setAttribute('r', 6); particle.setAttribute('fill', 'var(--mau-vang-dam)');
                    const animate = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
                    animate.setAttribute('attributeName', 'cy'); animate.setAttribute('values', `${particle.getAttribute('cy') - 10};${particle.getAttribute('cy') + 10};${particle.getAttribute('cy') - 10}`); animate.setAttribute('dur', `${2 + Math.random() * 2}s`); animate.setAttribute('repeatCount', 'indefinite'); particle.appendChild(animate); svg.appendChild(particle);
                }
                const concentrationText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                concentrationText.setAttribute('x', 200); concentrationText.setAttribute('y', 40); concentrationText.setAttribute('text-anchor', 'middle'); concentrationText.setAttribute('font-size', '20'); concentrationText.setAttribute('font-weight', 'bold'); concentrationText.setAttribute('fill', 'var(--mau-chu-chinh)'); concentrationText.textContent = `ƒê·ªô ƒë·∫≠m ƒë·∫∑c: ${soluteCount}`; svg.appendChild(concentrationText);
            }
            addBtn.onclick = () => { soluteCount += 5; if (soluteCount > 50) soluteCount = 5; draw(); };
            draw();
        }
        function animateMixingSVG() {
            const svg = document.getElementById('mixing-svg');
            const slider = document.getElementById('solute-mass-slider');
            const valueSpan = document.getElementById('solute-mass-value');
            if(!svg || !slider || !valueSpan) return;
            function draw(mass) {
                svg.innerHTML = '';
                const base = document.createElementNS('http://www.w3.org/2000/svg', 'rect'); base.setAttribute('x', 150); base.setAttribute('y', 150); base.setAttribute('width', 100); base.setAttribute('height', 20); base.setAttribute('fill', '#cbd5e1'); svg.appendChild(base);
                const screen = document.createElementNS('http://www.w3.org/2000/svg', 'rect'); screen.setAttribute('x', 160); screen.setAttribute('y', 120); screen.setAttribute('width', 80); screen.setAttribute('height', 30); screen.setAttribute('fill', '#334155'); svg.appendChild(screen);
                const massText = document.createElementNS('http://www.w3.org/2000/svg', 'text'); massText.setAttribute('x', 200); massText.setAttribute('y', 142); massText.setAttribute('text-anchor', 'middle'); massText.setAttribute('fill', '#fde047'); massText.setAttribute('font-size', 18); massText.textContent = `${mass}.0 g`; svg.appendChild(massText);
                const pile = document.createElementNS('http://www.w3.org/2000/svg', 'circle'); pile.setAttribute('cx', 200); pile.setAttribute('cy', 110); pile.setAttribute('r', mass*0.8); pile.setAttribute('fill', '#f59e0b'); svg.appendChild(pile);
            }
            slider.addEventListener('input', (e) => { const mass = e.target.value; valueSpan.textContent = mass; draw(mass); });
            draw(slider.value);
        }
        function animateAirbagSVG() {
            const svg = document.getElementById('airbag-svg');
            const crashBtn = document.getElementById('crash-btn');
            if(!svg || !crashBtn) return;
            let crashed = false;
            function draw(isDeployed) {
                svg.innerHTML = '';
                const wheel = document.createElementNS('http://www.w3.org/2000/svg', 'circle'); wheel.setAttribute('cx', 200); wheel.setAttribute('cy', 100); wheel.setAttribute('r', 80); wheel.setAttribute('stroke', '#475569'); wheel.setAttribute('stroke-width', 15); wheel.setAttribute('fill', 'none'); svg.appendChild(wheel);
                const center = document.createElementNS('http://www.w3.org/2000/svg', 'circle'); center.setAttribute('cx', 200); center.setAttribute('cy', 100); center.setAttribute('r', 30); center.setAttribute('fill', '#64748b'); svg.appendChild(center);
                if (isDeployed) {
                    const airbag = document.createElementNS('http://www.w3.org/2000/svg', 'circle'); airbag.setAttribute('cx', 200); airbag.setAttribute('cy', 100); airbag.setAttribute('r', 10); airbag.setAttribute('fill', '#e2e8f0'); svg.appendChild(airbag);
                    const animate = document.createElementNS('http://www.w3.org/2000/svg', 'animate'); animate.setAttribute('attributeName', 'r'); animate.setAttribute('from', '10'); animate.setAttribute('to', '90'); animate.setAttribute('dur', '0.2s'); animate.setAttribute('fill', 'freeze'); airbag.appendChild(animate);
                }
            }
            crashBtn.onclick = () => { crashed = !crashed; draw(crashed); if (crashed) { setTimeout(() => { crashed = false; draw(crashed); }, 2000); } };
            draw(false);
        }

        // --- LOGIC B√ÄI KI·ªÇM TRA (QUIZ) ---
        const quizData = [
            // C√¢u h·ªèi v·ªÅ Mol
            { question: "1 mol c·ªßa b·∫•t k·ª≥ ch·∫•t n√†o ch·ª©a bao nhi√™u h·∫°t (nguy√™n t·ª≠/ph√¢n t·ª≠)?", options: ["6,022 x 10¬≤¬≤", "6,022 x 10¬≤¬≥", "100", "Kh√¥ng x√°c ƒë·ªãnh"], answer: 1 },
            { question: "Kh·ªëi l∆∞·ª£ng mol c·ªßa Oxygen (O) l√† bao nhi√™u?", options: ["8 g/mol", "32 g/mol", "16 amu", "16 g/mol"], answer: 3 },
            { question: "·ªû ƒëi·ªÅu ki·ªán chu·∫©n, 1 mol kh√≠ b·∫•t k·ª≥ chi·∫øm th·ªÉ t√≠ch l√†:", options: ["22,4 l√≠t", "24,79 l√≠t", "1 l√≠t", "Ph·ª• thu·ªôc v√†o kh√≠"], answer: 1 },
            { question: "C√¥ng th·ª©c t√≠nh t·ªâ kh·ªëi c·ªßa kh√≠ A so v·ªõi kh√¥ng kh√≠ l√†:", options: ["d = M‚Çê / M‚Çñ‚Çñ", "d = M‚Çê / 22,4", "d = M‚Çê / 29", "d = 29 / M‚Çê"], answer: 2 },
            // C√¢u h·ªèi v·ªÅ Dung d·ªãch
            { question: "Trong dung d·ªãch n∆∞·ªõc ƒë∆∞·ªùng, n∆∞·ªõc ƒë∆∞·ª£c g·ªçi l√† g√¨?", options: ["Ch·∫•t tan", "Dung d·ªãch", "Dung m√¥i", "H·ªón h·ª£p"], answer: 2 },
            { question: "Dung d·ªãch kh√¥ng th·ªÉ h√≤a tan th√™m ch·∫•t tan ƒë∆∞·ª£c g·ªçi l√† dung d·ªãch...", options: ["Lo√£ng", "ƒê·∫∑c", "B√£o ho√†", "Ch∆∞a b√£o ho√†"], answer: 2 },
            { question: "ƒê·ªô tan (S) ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a l√† s·ªë gam ch·∫•t tan trong...", options: ["100g dung d·ªãch", "1 l√≠t dung d·ªãch", "100g dung m√¥i (n∆∞·ªõc)", "1 mol dung m√¥i"], answer: 2 },
            { question: "C√¥ng th·ª©c t√≠nh n·ªìng ƒë·ªô ph·∫ßn trƒÉm (C%) l√†:", options: ["C%=(mct/mdd)x100%", "C%=(mdd/mct)x100%", "C%=(mct/Vdd)x100%", "C%=(n/mdd)x100%"], answer: 0 },
            { question: "ƒê∆°n v·ªã c·ªßa N·ªìng ƒë·ªô mol (CM) l√† g√¨?", options: ["g/mol", "%", "mol/l√≠t", "gam"], answer: 2 },
            { question: "ƒê·ªÉ pha lo√£ng m·ªôt dung d·ªãch, ta c·∫ßn l√†m g√¨?", options: ["Th√™m ch·∫•t tan", "Th√™m dung m√¥i", "ƒêun n√≥ng", "L√†m l·∫°nh"], answer: 1 },
        ];
        let currentQuestionIndex = 0, score = 0, answerSelected = false;
        const questionArea = document.getElementById('quiz-question-area'), resultsArea = document.getElementById('quiz-results-area'), questionNumberEl = document.getElementById('question-number'), totalQuestionsEl = document.getElementById('total-questions'), questionTextEl = document.getElementById('question-text'), answerOptionsEl = document.getElementById('answer-options'), nextQuestionBtn = document.getElementById('next-question-btn'), restartQuizBtn = document.getElementById('restart-quiz-btn');
        function startQuiz() { currentQuestionIndex = 0; score = 0; questionArea.style.display = 'block'; resultsArea.style.display = 'none'; resultsArea.classList.add('hidden'); showQuestion(); }
        function showQuestion() {
            answerSelected = false; nextQuestionBtn.disabled = true;
            const currentQuestion = quizData[currentQuestionIndex];
            questionNumberEl.textContent = currentQuestionIndex + 1; totalQuestionsEl.textContent = quizData.length; questionTextEl.textContent = currentQuestion.question;
            answerOptionsEl.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option p-4 w-full text-left rounded-lg text-lg'; button.textContent = option; button.dataset.index = index;
                button.addEventListener('click', selectAnswer); answerOptionsEl.appendChild(button);
            });
        }
        function selectAnswer(e) {
            if (answerSelected) return; answerSelected = true;
            const selectedButton = e.target;
            const correctIndex = quizData[currentQuestionIndex].answer;
            if (parseInt(selectedButton.dataset.index) === correctIndex) { score++; selectedButton.classList.add('correct'); } else { selectedButton.classList.add('incorrect'); }
            answerOptionsEl.childNodes[correctIndex].classList.add('correct');
            Array.from(answerOptionsEl.childNodes).forEach(b => { b.disabled = true; });
            nextQuestionBtn.disabled = false;
        }
        nextQuestionBtn.addEventListener('click', () => { currentQuestionIndex++; if (currentQuestionIndex < quizData.length) { showQuestion(); } else { showResults(); } });
        restartQuizBtn.addEventListener('click', startQuiz);
        function showResults() {
            questionArea.style.display = 'none'; resultsArea.style.display = 'block'; resultsArea.classList.remove('hidden');
            document.getElementById('score').textContent = score; document.getElementById('total-score').textContent = quizData.length;
            const percentage = Math.round((score / quizData.length) * 100);
            document.getElementById('percentage').textContent = percentage;
            let comment = "";
            if (percentage === 100) comment = "Xu·∫•t s·∫Øc! Em ƒë√∫ng l√† m·ªôt nh√† h√≥a h·ªçc thi√™n t√†i!";
            else if (percentage >= 80) comment = "R·∫•t t·ªët! Em ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c r·ªìi ƒë·∫•y.";
            else if (percentage >= 50) comment = "Kh√° l·∫Øm! Em ƒë√£ hi·ªÉu b√†i, ch·ªâ c·∫ßn xem l·∫°i v√†i ch·ªó nh·ªè th√¥i.";
            else comment = "ƒê·ª´ng bu·ªìn nh√©! C√πng th·∫ßy xem l·∫°i b√†i gi·∫£ng v√† th·ª≠ l·∫°i n√†o!";
            document.getElementById('result-comment').textContent = comment;
        }

        // --- LOGIC T∆Ø∆†NG T√ÅC V·ªöI GEMINI AI ---
        async function askAI(tabId) {
            const input = document.getElementById(`ai-input-${tabId}`);
            const responseArea = document.getElementById(`ai-response-${tabId}`);
            const userQuestion = input.value.trim();
            if (!userQuestion) { responseArea.textContent = "Th·∫ßy ch∆∞a th·∫•y c√¢u h·ªèi c·ªßa em."; return; }
            if (API_KEY === "[D√°n API Key c·ªßa b·∫°n v√†o ƒë√¢y]") { responseArea.textContent = "L·ªói: API Key ch∆∞a ƒë∆∞·ª£c c·∫•u h√¨nh."; return; }
            responseArea.textContent = "Th·∫ßy L√¢m ƒëang suy nghƒ©..."; input.disabled = true;
            let subject = "";
            switch (tabId) {
                case 1: subject = "mol, kh·ªëi l∆∞·ª£ng mol, th·ªÉ t√≠ch mol, v√† t·ªâ kh·ªëi ch·∫•t kh√≠"; break;
                case 2: subject = "dung d·ªãch, ƒë·ªô tan, v√† c√°c lo·∫°i n·ªìng ƒë·ªô"; break;
                case 3: subject = "c√°c b√†i to√°n pha ch·∫ø dung d·ªãch, t√≠nh to√°n theo ph∆∞∆°ng tr√¨nh h√≥a h·ªçc"; break;
                case 4: subject = "c√°c ·ª©ng d·ª•ng th·ª±c t·∫ø c·ªßa h√≥a h·ªçc trong ƒë·ªùi s·ªëng"; break;
            }
            const personaPrompt = `B·∫°n l√† Th·∫ßy L√¢m, m·ªôt chuy√™n gia v·ªÅ Khoa h·ªçc t·ª± nhi√™n v·ªõi phong c√°ch gi·∫£ng b√†i g·∫ßn g≈©i, s√¢u s·∫Øc. B·∫°n CH·ªà ƒë∆∞·ª£c tr·∫£ l·ªùi c√°c c√¢u h·ªèi li√™n quan ch·∫∑t ch·∫Ω ƒë·∫øn ch·ªß ƒë·ªÅ c·ªßa b√†i gi·∫£ng l√† "${subject}". N·∫øu ng∆∞·ªùi d√πng h·ªèi v·ªÅ c√°c ch·ªß ƒë·ªÅ kh√¥ng li√™n quan (v√≠ d·ª•: l·ªãch s·ª≠, phim ·∫£nh...), b·∫°n B·∫ÆT BU·ªòC ph·∫£i t·ª´ ch·ªëi m·ªôt c√°ch kh√©o l√©o v√† h√†i h∆∞·ªõc. D·ª±a v√†o ƒë√≥, h√£y tr·∫£ l·ªùi c√¢u h·ªèi sau c·ªßa h·ªçc sinh: "${userQuestion}"`;
            try {
                const response = await fetch(API_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: [{ parts: [{ text: personaPrompt }] }] }) });
                if (!response.ok) throw new Error(`API request failed`);
                const data = await response.json();
                if (data.candidates && data.candidates.length > 0) {
                    responseArea.textContent = data.candidates[0].content.parts[0].text + "\n\n--- ƒê∆∞·ª£c gi·∫£i ƒë√°p b·ªüi Th·∫ßy L√¢m.";
                } else { throw new Error("No valid response from AI."); }
            } catch (error) {
                responseArea.textContent = "√îi, c√≥ v·∫ª 't√≠n hi·ªáu' h√≥a h·ªçc c·ªßa th·∫ßy tr√≤ m√¨nh ƒëang g·∫∑p tr·ª•c tr·∫∑c. Em th·ª≠ l·∫°i sau nh√©!";
            } finally { input.value = ''; input.disabled = false; }
        }

        // --- KH·ªûI CH·∫†Y KHI T·∫¢I TRANG ---
        document.addEventListener('DOMContentLoaded', () => {
            animateMolSVG();
            animateConcentrationSVG();
            animateMixingSVG();
            animateAirbagSVG();
            startQuiz();
        });
    </script>
</body>
</html>
